INTSourceChangelist:2620111
Availability:Docs
Title:ゲームプレイ
Crumbs:%ROOT%, Resources, Resources/SampleGames/SwingNinja
Description: Swing Ninja ゲームのゲームプレイ セットアップに関するドキュメント

[TOC(start:2 end:2)]

[REGION:fullwidth]

Swing Ninja は横スクロールの物理ベースのゲームです。そのため、適切に機能するために以下の 2 つの主要エレメントがあります。

* 横スクロールのゲーム ビヘイビア
* 掴み鉤 (grappling hook) のための物理セットアップ

これらはすべて **MyCharacter_Test** という名前のキャラクター ブループリントでセットアップされます。

## 横スクロール

横スクロールのセットアップを作成するために横スクロールのブループリント プロジェクトの基礎から開始しました。横スクロールのビヘイビアには移動とカメラのセットアップという 2 つの主要側面があります。 

### 移動

キャラクターの移動は、横スクロールのブループリント テンプレートのセットアップを修正したものです。このセットアップでは、カメラにモーションを適用するベースとして基本的なMoveRight イベントを使用しました。このセットアップでは非常に類似したものを行いますが、現在スイングしているか否かに基づき、インプットを実際に使用するか否かを分岐します。以下はネットワークで制御する移動です。 

[REGION:lightbox]
[![](SwingMovement.png)](SwingMovement.png)
[/REGION]
[REGION:caption]
拡大表示するにはここをクリックまたは **右クリック** して [Save As] （名前を付けて保存）を選択
[/REGION]

スイングを制御する折りたたまれたネットワーク ノードがあることに注目してください。このノードは、掴み鉤の位置を取り込み、それを使用して掴み鉤の位置とキャラクターの間のベクターを確定します。次に回転力を付加し、キャラクターをそのポイント周囲で回転させ、キャラクターが移動しながら最大回転速度に到達するまで加速します。このノードを **ダブルクリック** するとネットワークが表示されます。

[REGION:lightbox]
[![](SwingBehaviorNetwork.png)](SwingBehaviorNetwork.png)
[/REGION]
[REGION:caption]
拡大表示するにはここをクリックまたは **右クリック** して [Save As] （名前を付けて保存）を選択
[/REGION]



### カメラ

カメラはゲームの横スクロールのビヘイビアを維持、プレイヤーの移動を追跡、キャラクターの全体的な速度を使用してズームを制御するような方法でセットアップされます。こうしてプレイヤーの動きが速くなるほど、カメラはさらに後ろをズームし、突進していくかもしれない障害物がプレイヤーからよく見えるようにします。

[REGION:lightbox]
[![](CameraMovement.png)](CameraMovement.png)
[/REGION]
[REGION:caption]
拡大表示するにはここをクリックまたは **右クリック** して [Save As] （名前を付けて保存）を選択
[/REGION]




## 掴み鉤 (Grapple Hook) 

掴み鉤のセットアップはかなり単純であり、キャラクターのカプセルで物理シミュレーションを有効化することが基本となっています。これを行ったら、Character Movement Component を無効にし、キャラクターを掴み鉤にアタッチする物理コンストレイントを設定します。掴み鉤の位置はキャラクターからのトレース線によって設定されます。物理コンストレイントは 1 つの軸上でのみ回転するように設定されます。従って、横スクロールのビヘイビアを維持します。 



掴み鉤でスイングすることは、それ自体キャラクターのステートです。こうしたステートは入力を分岐するために使用できます。基本的に、プレイヤーがスイングする場合、入力は無視され、スイングの計算は物理カプセルに送り込まれます。そうでなければ、入力は通常どおりに計算され、プレイヤーは走り回ることができます。









[/REGION]
