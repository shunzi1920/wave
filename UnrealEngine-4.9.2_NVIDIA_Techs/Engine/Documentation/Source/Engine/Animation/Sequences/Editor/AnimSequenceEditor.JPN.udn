INTSourceChangelist:2593646
Availability:Public
Title:アニメーションシーケンスの編集
Crumbs: %ROOT%, Engine, Engine/Animation, Engine/Animation/Sequences
Description:アニメーションシーケンスの編集とアニメーション通知イベントの追加に使用するガイド

[REGION:banner]
![](persona_sequence_banner.png)(convert:false)
[/REGION]

[TOC(start:2)]

[EXCERPT:overview]
**アニメーションシーケンスエディタ** は単一のアニメーションシーケンスアセットのプレビューと編集を行うための機能です。圧縮スキームを含めて **アニメーション シーケンス** のプロパティを設定することができます。また Notify (通知) とも呼ばれるアニメーション通知イベントを追加して、カメラエフェクト、パーティクル エフェクト、サウンドなどをアニメーションに基づいてトリガーすることができます。
[/EXCERPT:overview]

## インターフェース

**アニメーションシーケンスエディタ** は以下のように構成されています。

![](AnimationSequenceEditor.png)

1. **ツールバー** - 現在編集中の _AnimationSequence（アニメーションシーケンス）_ の名前を表示します。
1. **トラックリスト** - 通知を作成したり編集するための編集可能なトラックリストです。トラックの作成と削除、および通知の作成と通知を用いた作業については、以下の説明を参照してください。
1. **タイムライン** - Persona（ペルソナ）の [**ビューポート**] パネルにプレビュー情報、プレビュー制御、プレビューの再生を表示します。


##通知

アニメーション _通知_ は、何かを発生させる原因となる特定のアニメーションと平行したイベントです。例えば、キャラクターの足がフロアについた瞬間に足音を再生するためにタイムラインと平行した通知を作成します。パーティクル、カメラ、そしてサウンドエフェクトの作成にも通知を使用することができます。独自のイベントをトリガーするカスタム仕様の通知も作成できます。

アニメーション通知に関する詳細は、[](Engine/Animation/Sequences\Notifies)ページを参照してください。


## 通知トラック

通知は **AnimationSequences** 内の **トラック** に格納されています。トラックは本質的にいくつもの通知を保持出来るコンテナで、 **アニメーション シーケンス** はいくつものトラックを保持することができます。複数のトラックを使用すると、通知の管理や可視化が簡単にできます。特に、 **アニメーション シーケンス** が多数または異なるタイプのいくつかの通知を必要とする際に有効です。

すべての **アニメーション シーケンス** は、デフォルトで 1 つのトラックが存在します。シークエンスにはトラックを追加することが可能で、既存トラックはトラックの右側に位置するボタンで削除できます。

**新規トラックの追加**

 **トラックリスト** で、既存トラックの横に位置する ![](button_track_add.png) ボタンをクリックします。

![](AddTrack.png)

新規のトラックが、リスト内の既存トラックの上に追加されます。

![](TrackAdded.png)

**既存トラックの削除**

 **トラックリスト** で、削除したい既存トラックの横に位置する ![](button_track_remove.png) ボタンをクリックします。

![](RemoveTrack.png)

リストからトラックが削除されます。

![](TrackRemoved.png)

## 通知を扱う作業

通知は、トラックに追加、トラック内を移動、または **トラックリスト** 内の異なるトラック間を移動させることが出来ます。これにより、通知の位置の調整や迅速な論理的アレンジが非常に簡単となります。

### 通知の作成

コンテクストメニューに表示されるトラックを **右クリック** して、タイプまたはカスタム仕様の通知をコンテクストメニューから追加出来ます。利用可能な通知の全タイプは、[**Add a notify**] のフライアウトメニューにリスト表示されます。トラックに追加する通知のタイプを選択します。

![](AddNotify.png)

新しい通知が、ユーザーが **右クリック** したトラックの位置に追加されます。

![](NotifyAdded.png)

### 通知の位置づけ

トラック内の通知の位置は、通知に対応するイベントがトリガーされるタイミングを決定するため非常に重要です。通知の移動は、通知の上をクリックして **左マウスボタン** を押下しながらマウスをドラッグするだけで簡単に行えます。

![](MovingNotify.png)

 **左マウスボタン** をリリースして、移動させたい場所に通知をドロップします。

![](NotifyMoved.png)

### トラックの切り替え

トラック間の通知の移動はとても簡単です。実際の操作は、上記で説明した通知の位置づけのプロセスと基本的に同じです。唯一違う点は、通知をリリースするトラックが、始まりのトラックではなく別のトラックである点です。

![](TrackSwitch1.png)

![](TrackSwitch2.png)

![](TrackSwitch3.png) 


### 通知のコピー/貼り付け

通知を **右クリック** して、別の場所へ貼り付けるためにクリップボードへコピーできます。もしくは、まったく異なるアニメーション シーケンスへ貼り付けることも出来ます。 

![](CopyAnimNotify.png)

通知トラック内を **右クリック** しても貼り付けができます。貼り付け方法は、2 つのオプションからどちらかを選択します。

![](PasteOptions.png)

* **Paste** - タイムスライダーの現在位置へ通知を貼り付けます。
* **Paste at Original Time** - 通知がコピーされた時間と同じ時間に通知を貼り付けます。 

複数の通知に対してアクションを行うこともできます。これは、通知上で **Shift + クリック** して、選択に加えるか、または **Ctrl + クリック** して、選択した通知を切り替えます。 

選択した通知をドラッグできます。スナッピングはそのまま保ちながら、通知はそのまま通知パネル内に留まります。 

![](MultipleNotifies.png)

複数通知がコピーされたら、タイムラインで **右クリック** するとコンテキスト メニューが表示されます。追加の貼り付けオプションがあります。 

![](CopyPasteMenu.png)

**Paste Multiple Relative:** はアニメーションの長さに関係なく、通知と通知との間は相対間隔を保持しながらマウス カーソル位置に貼り付けます。つまり、通知グループはアニメーションが短くなったり、長くなったりしても貼り付け前と同じような間隔であるように見えます。 

**Paste Multiple Absolute:** は絶対間隔を保持しながらマウス カーソル位置に貼り付けます。通知は正確な時間間隔を保持します。つまり、全く同じ間隔で発行しますが、通知グループはより短いまたはより長いアニメーションにスケーリングされません。 

**Paste at Original Time:** はコピー時と全く同じ場所にすべてのノードを配置します。 

追記 
* 通知がトラックの右端から外れるような貼り付け操作はできますが、通知はそのトラックにクランプされます。 
* マウスカーソルでの貼り付けは、選択した通知の中で一番左上のポイントをノード配置のための参照ポイントとして使用します。 
* 通知パネルの下部より下を通るグループを貼り付けると、グループを収容するために必要な数だけのトラックが自動的に追加されます。 



## タイムライン

![](timeline.png)

 **タイムライン** のインフォメーションバーには以下の再生情報が表示されます。

| 情報 | 説明 |
| ---- | ----------- |
| **Animation** | 現在編集中の _AnimationSequence_ の名前です。 |
| **Percentage** | アニメーション全体に対する比率で表した現在の再生位置です。 |
| **Current Time** | 秒で表した現在の再生位置です。 |
| **Current Frame** | フレームで表した現在の再生位置です。 |

[INCLUDE:Engine/Animation/Persona/Viewport#PreviewControls]
