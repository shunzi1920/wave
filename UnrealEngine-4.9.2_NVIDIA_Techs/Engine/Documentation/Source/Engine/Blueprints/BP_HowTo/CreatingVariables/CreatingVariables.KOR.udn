INTSourceChangelist:2457628
Availability: Public
Title:변수 작업
Crumbs:
Description:블루프린트에서 변수를 만들고 사용하는 법을 보여줍니다.

[OBJECT:Redirect]
[PARAM:link]
[%Engine/Blueprints/UserGuide/Variables:title%](Engine/Blueprints/UserGuide/Variables "%Engine/Blueprints/UserGuide/Variables:description%")
[/PARAM]
[/OBJECT]

<!--
[TOC(start:2)]

## 개요

**Variable** 변수란 월드의 **오브젝트** 또는 **액터** 로의 레퍼런스 또는 값을 저장하는 프로퍼티입니다. 이 프로퍼티는 자신이 속한 블루프린트 내부에서 접근할 수도 있고, 레벨에 배치된 블루프린트 인스턴스 작업을 하는 디자이너들이 그 값을 변경할 수 있도록 외부에서 접근하도록 만들 수도 있습니다.

여기서는 변수를 만들고 편집하는 법, 다양한 변수 세팅 작업 방법, 입력/출력 핀을 변수로 승격하는 방법과 아울러 플레이어가 트리거 박스를 드나들 때 변수를 사용하여 라이트의 색을 정의하는 샘플 용례도 살펴보도록 하겠습니다.

## 변수 만들기

블루프린트 안에서 변수를 만들려면:

1.  **내 블루프린트** 창에서 **변수 추가** 버튼을 클릭합니다.

	![](HT4.png)

1.  새 변수가 생성되어, 그 이름을 입력하는 창이 뜹니다.

	![](HT5.png)

1.  **디테일** 패널에는 변수 사용 및 접근 방식을 결정하는 데 사용되는 여러가지 세팅이 있습니다.

	![](HT6.png)


| 옵션 | 설명 |
|----------------------|----------------------|
| **Variable Name** | 변수 이름 - 변수의 이름입니다. |
| **Variable Type** | 변수 유형 - 드롭다운 메뉴를 통해 변수 유형을 설정하고, [**배열**](Engine/Blueprints/BP_HowTo/WorkingWithArrays) 인지 아닌지를 결정합니다. |
| **Editable** | 편집가능 - 블루프린트 인스턴스에서 변수를 공개적으로 편집가능하게 만들지 입니다. |
| **Tooltip** | 툴팁 - 이 변수에 대한 부가 정보로, 변수 위에 커서를 올릴 때 표시됩니다. |
| **Expose on Spawn** | 스폰시 노출 - 블루프린트 스폰시 변수를 포인트로 노출시킬지 입니다. |
| **Private** | 프라이빗 - 변수를 프라이빗으로 만들지 입니다 (파생된 블루프린트에서는 변경할 수 없게 됩니다). |
| **Expose to Matinee** | 마티네에 노출 - 변수를 **마티네** 에 노출시켜 변경하도록 할지 입니다. |
| **Category** | 카테고리 - 변수를 주어진 라벨에 따라 분류별로 나눌 수 있도록 합니다. 변수는 라벨별로 소팅됩니다. |
| **Replication** | 리플리케이션 - 이 변수를 네트워크를 통해 [**리플리케이트**](Gameplay/HowTo/Networking/ReplicateVariable/Blueprints) 시킬지 말지 입니다. |

**디테일** 패널을 펼치면 추가로 설정할 수 있는 serialization 옵션도 있습니다.

![](HT37.png)

여기서는 **Transient** (휘발성) 옵션으로 로드시 변수를 serialize 시킬지 0 으로 채울지를 설정할 수 있습니다. **SaveGame** 옵션으로 변수를 게임 저장용으로 serialize 시킬지도 설정할 수 있습니다.

### 편집가능 변수

변수를 **편집가능** 으로 설정하면, 그 변수가 속한 블루프린트 밖에서도 변경할 수 있게 됩니다.

![](HT21.png)

변수의 편집가능 설정은 **디테일** 패널에서 또는 **내 블루프린트** 패널에서 변수 옆의 **눈** 아이콘을 클릭하면 됩니다.

![](HT22.png)

변수가 **편집가능** 설정되면, 그 변수의 값을 메인 에디터 창의 **디테일** 패널에서 설정할 수 있습니다.

![](HT23.png)

위에서 **LightColor** 변수는 편집가능으로 설정되어, 그 값을 레벨 에디터의 **디테일** 패널에서 설정할 수 있습니다.

### 변수 툴팁

변수에 **툴팁** 을 추가하면, 에디터에서 변수 위에 커서를 올렸을 때 설명이 나타납니다.

![](HT24.png)

에디터 창에서 변수 위에 또는 블루프린트 그래프에서 변수 노드 위에 커서를 올리면, 툴팁이 나타납니다.

![](HT25.png)

### 스폰시 노출

**스폰시 노출** 옵션은 변수가 들어있는 블루프린트 스폰 시점에서 그 변수를 접근 가능하도록 할 것인지 설정할 수 있습니다.

![](HT26.png)

위에 있는 **LightColor** 라는 변수는 **스폰시 노출** 로 설정된 Linear Color 프로퍼티입니다. 이 변수는 **Set Light Color** 노드와 **LightColor** 변수를 사용하여 라이트의 색을 결정하는 포인트 라이트에 대한 블루프린트에 구현되어 있습니다.

아래 다른 블루프린트 안에서, 스크립트를 사용하여 포인트 라이트 블루프린트를 스폰하고, **LightColor** 변수는 스폰시 노출 설정되어 있기에, 그 값을 설정하는 옵션을 **Spawn Actor from Class** 노드에서 사용할 수 있게 되어 있습니다.

![](HT27.png)

### 프라이빗 변수

변수에 **프라이빗** 옵션을 체크하면, 외부 블루프린트에서 그 변수 값을 변경하는 것이 불가능해 집니다.

예를 들어 아래는 프라이빗으로 설정되지 않은 변수입니다: 

![](HT42.png)

다른 변수 안에서, 변수가 들어있는 블루프린트를 스폰하도록 선택했습니다.

![](HT43.png)

그 블루프린트에서 만든 변수가 프라이빗 설정되어 있지 않기에 접근이 가능합니다.

하지만 프라이빗 설정을 하면:

![](HT41.png)

바른 블루프린트에서 그 블루프린트 스폰하고 그 변수에 접근을 시도해 봐도, 불가능합니다.

![](HT44.png)


### 마티네에 노출

변수를 **마티네** 에서 영향을 끼칠 수 있도록 하려면, **마티네에 노출** 옵션을 체크해야 합니다.

![](HT31.png)

아래에서 마티네를 만들어 블루프린트가 들어있는 트랙을 추가했습니다. 그런 다음 마티네를 통해 그 블루프린트의 Linear Color 변수를 변경하려면, **LinearColor Property Track** 을 추가하여 가능합니다. 

![](HT32.png)

그런 다음 블루프린트 (**LightColor**) 프로퍼티에서 변경할 LinearColor 변수를 선택하는 창이 뜹니다.

![](HT33.png)

그 작업을 마치고 나면, 트랙에 키를 추가하여 변수의 값을 변경할 수 있습니다.

![](HT34.png)

[REGION:note]
**마티네** 작업 관련 상세 정보는 [](Engine/Matinee) 문서를 참고하세요.
[/REGION]


## 변수로 승격

**변수로 승격** 옵션을 통해 변수를 만들 수도 있습니다.

블루프린트 노드의 입력 또는 출력 데이터 핀에 **우클릭** 한 다음 **변수로 승격** 옵션을 선택합니다.

![](HT38.png)

**New Light Color** 핀에 **우클릭** 한 다음 **변수로 승격** 을 선택하면, 변수를 **New Light Color** 값으로 할당할 수 있습니다.

![](HT40.png)

다른 방법으로는, 입력 또는 출력 핀을 끌어 놓은 다음, **변수로 승격** 옵션을 선택하면 됩니다.

![](HT39.png)




## 블루프린트에서 변수 접근하기

블루프린트에서 변수 작업을 할 때, 보통 두 가지 방법 중 하나로 접근하게 됩니다. **Get** 노드 (또는 Getter) 를 사용하여 변수 값을 구해오거나, **Set** 노드 (또는 Setter) 를 사용하여 변수 값을 설정하는 것입니다.

![](HT45.png)

변수에 대한 **Set** 노드 (위의 1) 또는 **Get** 노드 (위의 2) 생성은, 그래프에 **우클릭** 한 다음 **Set (변수 이름)** 또는 **Get (변수 이름)** 을 입력하면 됩니다. 다른 방법으로는, **내 블루프린트** 창에 있는 변수를 **Ctrl** 키를 누른 상태로 그래프에 끌어 놓으면 **Get** 노드가, **Alt** 키로 끌어 놓으면 **Set** 노드가 생성됩니다.




## 예제 변수 용례

이 예제에서는, 트리거 박스에 들어서면 변수를 사용하여 라이트의 색을 바꾸도록 하겠습니다.

_이 예제에서는 **블루프린트 3인칭 템플릿** 프로젝트를 사용합니다._

1.  프로젝트에 들어가서 **모드** 메뉴에서 **포인트 라이트** 와 **박스 트리거** 를 레벨에 끌어 놓습니다.

	![](HT1.png)

	위에서, 라이트 위치를 박스 위로 놓고, 레벨 구석으로 끌어올려 더욱 잘 보이도록 했습니다. 플레이어 스타트도 라이트와 트리거 근처로 옮겼습니다.

1.	**포인트 라이트** 와 **박스 트리거** 를 둘 다 선택한 다음, **디테일** 패널에서 **복합 블루프린트로 대체** 를 선택합니다.

	![](HT2.png)

1.	열리는 창에서 블루프린트에 이름을 지은 다음 **블루프린트 생성** 을 선택합니다.

1.	블루프린트의 **컴포넌트** 탭 안에서 **박스 트리거** 를 클릭하고 **디테일** 패널에서 **Hidden in Game** 체크를 해제합니다.

	![](HT3.png)

	그러면 게임 실행시 박스 트리거가 레벨에 보이게 됩니다.

1.	**그래프** 탭을 클릭하고, **내 블루프린트** 창에서 **변수 추가** 버튼을 누릅니다.

	![](HT4.png)

1.	변수가 추가되고 이름을 마음대로 바꿀 수 있는데, 이 예제에서는 **LightColor** 라 하겠습니다. 

	![](HT5.png)

1.	**디테일** 패널에서 **변수 유형** 드롭다운 메뉴를 클릭한 다음 **LinearColor** 를 검색 추가합니다.

	![](HT8.png)

1.	**컴파일** 버튼을 눌러 블루프린트를 컴파일합니다.

	![](HT10.png)

	블루프린트 컴파일에 성공하면 변수의 기본값을 설정할 수 있습니다.

1.	**디테일** 패널에서 **Default Value** 아래, 색 선택기 박스를 클릭합니다.

	![](HT11.png)

1.	**색 선택기** 창에서, 변수의 기본색으로 설정할 색을 선택합니다.

	![](HT12.png)

1.	**내 블루프린트** 창에서 **트리거 박스** 컴포넌트에 **우클릭** 한 다음 **이벤트 추가** 후 **OnComponentBeginOverlap 추가** 를 선택합니다.

	![](HT13.png)

1.	위 단계를 반복하여 **OnComponentEndOverlap 추가** 를 선택합니다. 

1.	**Ctrl** 을 누르고 **PointLight** 컴포넌트를 그래프에 끌어 놓습니다.

	![](HT14.png)

1.	**Ctrl** 을 누르고 **LightColor** 변수를 끌어 놓아 **Get** (변수의 값을 구)합니다.

1.	**PointLight** 변수를 끌어 놓은 다음, **Set Light Color** 노드를 검색 추가합니다.

	![](HT15.png)

1.	**PointLight** 와 **LightColor** 를 **Set Light Color** 노드에 연결한 다음, **Set Light Color** 사본을 하나 더 만듭니다.

	![](HT16.png)

1.	**Alt** 를 누르고 **LightColor** 변수를 끌어 놓아 **Set** (변수의 값을 설정)합니다.

	![](HT17.png)

1.	**Set** 노드의 박스를 클릭하고 변수를 설정할 색을 정의합니다.

1.	**Set** 노드를 복사한 다음 다른 색을 선택하고 아래와 같이 연결해 줍니다.

	![](HT18.png)

	위에서는 박스에 겹칠 때 **LightColor** 프로퍼티의 값을 어떤 색으로 설정하고, 박스를 나갈 때 다른 색으로 설정합니다.

1.	**컴파일** 버튼을 클릭한 다음, 블루프린트를 닫고 **플레이** 를 클릭하여 에디터에서 플레이합니다.

	![](HT19.png)(w:340)

	캐릭터로 트리거 박스 속으로 걸어가면, 색이 바뀝니다.

	![](HT20.png)(w:340)

	트리거 박스를 나가면, 색이 다른 색으로 바뀔 것입니다.



	-->

	-->
	

