INTSourceChangelist:1565551
Availability:Public
Title:Landscape样条曲线
Crumbs: %ROOT%, Engine, Engine/UI, Engine/UI/Tools, Engine/Landscape
Description:用于调整Landscape(地貌)的样条曲线,能够修改混蒙板并可以将网格物体变为道路。

[TOC(start:2)]


## 概述


Landscape(地貌)样条曲线是个在地貌上创建道路及实现其他功能的灵活系统，可以通过地貌编辑器中的样条曲线工具来创建样条曲线并对其进行编辑。

![Splines button on the Landscape edit window](splines_button.png)(convert:false)

目前在地貌编辑器窗口中仅有少数几个样条曲线选项，大部分操作都是通过单击、Ctrl+单击或者编辑样条曲线的属性来完成的。


## 创建样条曲线

![A Spline control point](control_point.jpg)(w:785 h:516 type:jpg)

通过在地貌上按住ctrl键并左击鼠标可以创建一条新的样条曲线。这会放置样条曲线的第一个控制点。

![A second spline control point](short_spline.jpg)(w:785 h:516 type:jpg)

再次按住Ctrl键并左击鼠标来创建另一个控制点，它通过样条段和第一个控制点相连。这时新的控制点变为选中状态，以便您可以重复这个过程来添加更多的控制点。

先选中一个控制点，然后按住Ctrl键并鼠标左击另一个控制点，则可以将两个控制点连接起来。

按住Ctrl键并左击一个样条段可以在那个点处分割样条段，并插入一个新的控制点。


## 编辑样条曲线

![Transform - Translation](Engine/UI/UserGuide\LevelEditor\Toolbar\toolbar_move.png) ![Transform - Rotation](Engine/UI/UserGuide\LevelEditor\Toolbar\toolbar_rotate.png) ![Transform - Scale](Engine/UI/UserGuide\LevelEditor\Toolbar\toolbar_scale.png)

当使用移动和旋转工具时，样条控制点的反应和您期望的效果是一致的，但缩放工具会调出不同的用户界面：

![Segment tangent scale tool](segment_scale.jpg)(w:785 h:516 type:jpg)

这些是样条曲线切线。如果选中一个样条段，它会在每个样条段的末端显示切线；如果选中一个控制点，他会显示所有相连接的样条段的切线。
您可以通过拖拽切线的末端来调整其长度，这会改变样条段的弯曲度。


## 给地貌应用样条曲线

 **Apply Splines to Landscape（ 给地貌应用样条曲线）** 按钮通过使用样条曲线信息修改景观高度图和图层权重图。
通过对养条曲线两边的地貌进行余弦混合衰减，可以升高或降低高度图，从而和样条曲线相匹配。这是由样条控制点的宽度和衰减属性及单个样条段上的Raise/Lower Terrain(升高/降低 地形) 选项来控制的。
所描画的贴图层(如果存在)是在单独的 _样条段_ 的 _Layer Name（图层名称）_ 属性中指定的，贴图描画会受到控制点中的样条曲线宽度和衰减设置的影响。


## 样条曲线属性

可以通过左击控制点和样条段来选中它们。按住Shift并左击可以选中多个控制点或样条段。
如果您选中一个控制点，并按下ctrl+A键，将会选中所有相连接的控制点。如果您选中一个样条段，并按下ctrl+A键，将会选中所有相连接的样条段。
选中的控制点或样条段的属性将会显示在 **Details（细节）** 选卡中。

### 控制点属性

| 属性 | 描述 |
| ------------ | ------------ |
| Location（位置）    |该控制点相对于它附加到的地貌的位置。
| Rotation (旋转度)    | 控制点的旋转度，控制该控制点处附加的任何样条曲线的切线的方向。
| Width （宽度）       | 该控制点处的样条曲线的宽度。显示为实线。影响所有相连接的样条段。
| Side Falloff（样条曲线在控制点任意一侧的衰减情况） | 该控制点处样条曲线的任意一侧上的余弦衰减区域的宽度。显示为虚线。
| End Falloff（末端衰减情况）  | 仅和样条曲线的末端相关(仅附加一个样条段的控制点)，平滑地结束样条段的余弦混合衰减区域的长度。

### 样条段属性

| 属性 | 描述 |
| ------------- | ------------ |
| [REGION:tablesection]地貌样条段[/REGION] ||
| Connections（连接）   | 同该样条段附加到的两个控制点相关的设置。
| > Tangent Len（切线长度） | 该控制点处的切线范围，控制该样条段的弯曲度。负切线会导致该样条段连接到该控制点的背面。
| Layer Name(图层名称)    | 当给地貌应用样条曲线时要描画的混合蒙板图层的名称。
| Raise Terrain（升高地形） | 当给地貌应用样条曲线时升高景观地形使其和样条曲线相匹配。对于创建路堤上的道路很有用。
| Lower Terrain（降低地形） | 当给地貌应用样条曲线时降低景观地形使其和样条曲线相匹配。对于创建河流和沟渠很有用。
| [REGION:tablesection]地貌样条曲线网格物体[/REGION] ||
| Spline Meshes（样条曲线网格物体）    | 给样条曲线应用的网格物体。应用多个网格物体时，可以通过随机种子控制多个网格物体的随机顺序。
| > Mesh（网格物体）           | 要使用的静态网格物体。
| > Center H（水平居中）       | 是否在样条曲线上水平居中网格物体或者使用网格物体的原点。
| > Offset （偏移）        | 将网格物体和样条曲线相偏离(单位是网格物体空间的单位，样条曲线不会缩放单位)。
| > Scale to Width（缩放以适应宽度） | 是否缩放网格物体来适应样条曲线的宽度，或者按照网格物体本来的大小进行应用。
| > Scale （缩放因数）         | 网格物体大小的乘数。如果启用了Scale to Width，这里指定的Scale则和样条曲线的宽度相关联，否则它和网格物体的原始大小相关联。
| > Orientation（朝向）    | 在SplineLoft-风格的 X-上方、 Y-左侧、Z-前方的样条曲线和默认的X-右侧、Y-上方、Z-前方的样条曲线之间进行选择。
| Random Seed（随机种子）      | 控制应用到该样条曲线的多个样条曲线网格物体的顺序。
| Enable Collision（启用碰撞） | 在样条网格物体上启用碰撞。


## 控制参考指南

| 控制| 操作|
| --------------------------- | ------------  |
| _鼠标左键_         | 选中一个控制点或样条段。
| _Shift + 鼠标左键_ | 选中多个控制点或样条段。
| _Ctrl + A_                  | 选中和当前选中的控制点相连的所有控制点，或者选中和当前选中样条段相连的所有样条段。
| _Ctrl + 鼠标左键_  | 在地貌上，添加一个连接到选中控制点的新控制点。
| ^                           | 在一个控制点上，创建一个将任何选中控制点和该控制点相连的样条段。
| ^                           | 在一个样条段上，在那个点处分割样条段并插入一个新的控制点。
| _Del_                       | 删除选中的控制点或样条段。
| _R_                         | 自动计算选中的样条控制点的旋转度。
| _T_                         | 自动翻转选中 控制点/样条段  的切线。
| _F_                         | 翻转选中的样条段 (仅影响样条曲线上的网格物体)。
| _End_                       | 对齐选中的控制点到下面的地形。
