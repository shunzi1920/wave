INTSourceChangelist:2369163
Availability:Public
Title:フォント
Crumbs:%ROOT%, Engine, Engine/UMG, Engine/UMG/UserGuide
Description:フォントのインポート、フォント エディタでの作業、および UMG でフォントを使用するプロセスの詳細。 
Related:Engine/UMG
Related:Engine/UMG/UserGuide/WidgetBlueprints
Related:Engine/UMG/UserGuide/WidgetTypeReference

[TOC(start:2 end:2)]

## 概要

このページでは、独自のフォントのインポート、 **フォント エディタ** の使用、および **Unreal Motion Graphics (UMG) UI デザイナ** のフォントについて説明します。 

## フォント アセット

アンリアル エンジン 4 のフォントは **フォント** アセットとして分類され、 2 種類のキャッシング方法を使用します。**ランタイム** は、Composite Font の形式をとります。または、**オフライン** は、事前計算された古い Font Atlas 方式です。**フォント エディタ** でフォント アセットを開くことで、この 2 つの方式間を切り替えることができます (これは古い方式の既存のフォント アセットを新しいコンポジット方式に置き換える必要なく、変換する簡単な方法です)。 

## フォントの作成とインポート

このセクションでは、新規フォント アセットの作成方法、TTF ファイルまたは OTF ファイルをインポートしてフォント アセットを生成する方法について説明します。 

### フォント アセットを作成する

フォント アセットを作成するには、以下の手順に従います。 

1.	**[コンテンツ ブラウザ]** で、 **[Create]** ボタンをクリックし、 **[ユーザーインターフェース]** の **[フォント]** オプションをクリックします。 

	![](NewFont.png)

1.	新しいコンポジット フォント アセットが作成されます。名前を付けるよう促されます。 

	![](NameFont.png)

1.	名前を入力したらアセットにアスタリスク記号が付いているのがわかります。これはアセットが保存されていないことを示します。 

	![](SaveFont.png)

1.	**[Save All]** ボタンをクリックしてアセットを保存します。次に表示されるポップアップ メニューで保存を確認して終了します。 

[REGION:tip]
**[Create]** ボタンをクリックする代わりに **[コンテンツ ブラウザ]** 内の空きエリアで **右クリック** してコンテキスト メニューを呼び出すこともできます。そこから **ユーザー インターフェース** と **フォント** オプションをクリックしてフォント アセットを作成します。アセットを保存することを忘れないでください！ 
[/REGION]

エディタ内で新規フォント アセットを作成すると、空のコンポジット フォント アセットが作成され、**フォント エディタ** を使用してそのパラメータを定義することができます。TTF ファイルまたは OTF ファイルをインポートしたら指定したフォント サンプルを使用して新規コンポジット フォント アセットが生成されます (この時点で **フォント エディタ** を開いてパラメータを追加で定義することができます)。 

### フォントのインポート

TTF ファイルまたは OTF ファイルをエディタにインポートすることができます。これを行うには様々な方法があります。 

最初の方法は、**[コンテンツ ブラウザ]** 内で **[インポート]** ボタンをクリックするものです。 

![](Import1.png)

表示されるダイアログ ボックスでインポートするファイルに移動し、その上でクリックし、**Open** をクリックします。 

![](Import2.png)

これで選択したファイルを使用してコンポジット フォント アセットとして **[コンテンツ ブラウザ]** にファイルが追加されます。 

![](Import3.png)

TTF ファイルまたは OTF ファイルを **[コンテンツ ブラウザ]** に **ドラッグ & ドロップ** し、コンポジット フォントアセットを作成することもできます。 

![](Import4.png)

ドラッグ & ドロップ方式を使用すると、選択したファイルを使用してコンポジット フォント アセットも自動的に作成されます。 

## フォント エディタ

**[コンテンツ ブラウザ]** でフォント アセットを **ダブルクリック** すると、**フォント エディタ** ウィンドウ内でそのフォント アセットが開きます。 

![](FontEditorWindow.png)(w:820)

以下はフォント エディタ ウィンドウの各部を示したものです。 

1.	**ツールバー メニュー** -加えた変更を保存し、**[コンテンツ ブラウザ]** でアセットを見つけ(4)、プレビュー ウィンドウの背景色を変更したり、表示色 (テキスト カラー) を変更することができます。加えた変更を更新またはエクスポートするオプションがあります。しかし、こうしたオプションは **オフライン** キャッシュ モード内でのみ利用可能です。 
1.	**デフォルト フォント ファミリー** -フォント アセットと合わせて使用するデフォルトのフォント ファミリーを割り当てることができます。特定のフォント スタイルのバージョンを追加したり (例えば、標準、太字、イタリック、アンダーラインなど)、ひとつのコンポジット フォントとして様々なフォント スタイルのコレクションを持つことができます。ブランクのフォント アセットを作成したらこのウィンドウ内からフォントを割り当てることもできます。フォントを追加したらフォントと合わせて使用するヒンティング アルゴリズムを定義することができます。 
1.	**サブフォント ファミリー** - フォント アセットが使用するサブフォント ファミリーを割り当てることができます。ここでは、**文字範囲 (Character Range)** を指定し、入力した文字がこの範囲内に入ったらデフォルトの代わりに様々なフォント スタイルを指定することができます (これは異なる言語で様々なフォント タイプを使用したい場合に役立ちます)。 
1.	**プレビュー** - フォントをプレビューし、サンプルテキストを入力するためのテキスト エントリ ボックスがあります。 
1.	**[詳細]** - **フォント キャッシュ タイプ**、フォント サイズとフォント名 (ランタイム用) を変更することができます。 
	* 古い方式を使用している場合は、**オフライン** キャッシュ モードでフォントのパラメータを変更することができます。 
	* 既存のフォントアセットを置き換えることなく **オフライン** から **ランタイム** に変換できます。 

以下はフォント アセットの例です。 

[REGION:lightbox]
[![](ExampleFontLayout.png)(w:820)](ExampleFontLayout.png)
[/REGION]

_画像をクリックして全画面表示にします。_

コンポジット フォントには常にデフォルト フォント ファミリーが含まれます。任意の文字範囲で使用するサブフォント ファミリーをいくつでも含むことができます。各フォント ファミリー自体はそのスタイルに基づき名前を付けることができる任意の数のフォントから構成されています。ランタイムには、その文字範囲に対してフォント ファミリーで利用可能なフォントに基づき各文字に対して最適なフォントを使用できます。 

上記の画像の例でわかるように、日本語のテキストは日本語フォント ファミリーの文字範囲にあります。そのため、デフォルト フォント ファミリーの Roboto ではなく Source Han Sans を使用して描画されます。サブフォント ファミリーのフォントは Regular、Bold、および Light の場合と同様に名前の一致によって選択されるのが理想的です。しかし、Bold Italic の場合のようにデフォルト フォントの属性に基づきマッチするようにフォールバックすることもできます (自動的に太字の日本語フォントが選択されます。太字属性に含まれるフォントは最適マッチではなかったためです。)。 


## UMG のフォント

[Widge ブループリント](Engine/UMG/UserGuide/WidgetBlueprints) を作成し、テキストを含むウィジェット (テキストボックスまたはテキスト ウィジェットなど) を配置後、それをクリックし、**[詳細]** パネルにアクセスすると、**[Appearance]** に **[フォント]** オプションがあります。 

![](UMGFonts1.png)

デフォルトでは、エンジンは **Roboto** を使用します。しかし、ドロップダウン メニューをクリックし、作成したコンポジット フォント アセットを選択し、代わりに使用することができます。 

![](UMGFonts2.png)

このメニューからコンポジット フォントを作成し、新規アセットをどこに保存するかを指定することもできます (デフォルトでブランクになり、入力する必要があります)。 

コンポジット フォントを選択したら、2 つめのドロップダウン メニューで使用するフォントを **Default Font Family** から選択できます。 

![](UMGFonts3.png)

フォント サイズを入力ボックスで指定することもできます。 

![](UMGFonts4.png)

現時点では UMG は **ランタイム** キャッシュのフォント アセットのみをサポートしています。古い方式を用いてフォントを割り当てた場合、既存のファイル ベースのフォント設定は失われません。しかし、UMG でカスタム フォントを使用するためには、いずれはコンポジット フォント アセットを作成する必要があります。 



