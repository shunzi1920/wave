INTSourceChangelist:2532148
Availability: Public
Title:머티리얼 인스턴스 에디터 사용 안내서
Crumbs: %ROOT%, Engine, Engine/Rendering/Materials, Engine/Rendering/Materials/MaterialInstances
Description:MaterialInstanceConstant 변경을 위한 머티리얼 인스턴스 에디터 사용 안내서입니다.

[TOC(start:2)]



## 소개

머티리얼 인스턴스 에디터는 머티리얼 인스턴스에 대한 파라미터를 변경하는 데 사용됩니다. 머티리얼 인스턴스의 개념이 익숙치 않은 분들은 [](Engine/Rendering/Materials/MaterialInstances) 페이지를 참고하시기 바랍니다.



## 머티리얼 인스턴스 에디터 열기

머티리얼 인스턴스 에디터는 머티리얼 인스턴스 애셋을 더블클릭하거나, 콘텐츠 브라우저에서 머티리얼 인스턴스 애셋에 우클릭하면 뜨는 맥락 메뉴로 열 수 있습니다. 
어느 방법으로든 머티리얼 인스턴스 에디터에 해당 머티리얼 인스턴스가 편집 가능한 상태로 열립니다. 머티리얼 인스턴스 에디터를 여는 또다른 방법으로는, 
액터에 우클릭하고 _Materials_ (머티리얼) 메뉴의 _Material Name_ (머티리얼 이름) 서브메뉴에서 _Edit Material Instance_ (머티리얼 인스턴스 편집) 을 선택하면 됩니다.



## 머티리얼 인스턴스 에디터 인터페이스

머티리얼 인스턴스 에디터는 다음과 같이 나뉘어 있습니다:

![materialinstanceeditor.png](materialinstanceeditor.png)(w:900 h:662)


1. [툴바](#툴바) - 머티리얼 인스턴스 저장, 위치확인, 렌더링 통계 표시가 가능합니다.
1. [뷰포트 표시 옵션](#뷰포트표시옵션) - 뷰포트에 사용되는 메시를 변경할 수 있습니다.
1. [디테일 패널](#디테일패널) - 머티리얼 인스턴스의 프로퍼티입니다.
1. [부모 목록](#부모목록) - 현재 머티리얼 인스턴스에 대한 부모 체인 목록입니다.   
1. [뷰포트](#뷰포트) - 현재 머티리얼 인스턴스를 미리봅니다.



### 툴바

| **아이콘** | **설명** | 
| --- | --- |
| ![](button_MIE_Save.png) | 현재 애셋을 저장합니다. |
| ![](button_MIE_Find.png) | 콘텐츠 브라우저에서 머티리얼 인스턴스 콘스턴트를 찾습니다. |
| ![](button_MIE_Params.png) | 부모 머티리얼의 모든 머티리얼 파라미터를 **프로퍼티** 패널에 보이도록 만듭니다. |
| ![](button_MIE_Mobile_Stats.png) | 모바일용 머티리얼 통계 및 컴파일 오류 표시를 토글합니다. |


### 뷰포트 표시 옵션
| **아이콘** | **설명** | 
| --- | --- |
| ![](button_MIE_Cylinder.png) | 머티리얼 인스턴스를 원통 위에 미리봅니다. |
| ![](button_MIE_Sphere.png) | 머티리얼 인스턴스를 구체 위에 미리봅니다. |
| ![](button_MIE_Plane.png) | 머티리얼 인스턴스를 평면 위에 미리봅니다. |
| ![](button_MIE_Cube.png) | 머티리얼 인스턴스를 큐브 위에 미리봅니다. |
| ![](button_MIE_Mesh.png) | 머티리얼 인스턴스를 스태틱 메시 위에 미리봅니다. |
| ![](button_MIE_Grid.png) |  머티리얼 인스턴스 미리보기 패널의 배경 그리드를 토글합니다. |
| ![](button_MIE_Realtime.png) |  켜면 미리보기 메시의 머티리얼이 실시간 업데이트됩니다. 에디터 성능을 위해서는 이 옵션을 끄시기 바랍니다. |

### 디테일 패널

![](MIE_Properties.png)

머티리얼 인스턴스 에디터의 **디테일** 패널은 모든 '작업'이 벌어지는 곳입니다. 디테일 창을 통해 머티리얼 인스턴스 파라미터를 덮어쓰고 변경할 수 있습니다. 
이 머티리얼 인스턴스에 대한 부모 머티리얼에 존재하는 각 파라미터는, 부모 머티리얼의 파라미터에 할당된 [그룹](Engine/Rendering/Materials/MaterialInstances#파라미터그룹) 아래 **Parameter Groups** 배열에 
나열되어 있습니다. 디폴트로는 부모 파라미터 값 중 어느 것도 덮어쓰지 않으며, 활성화시켜 줘야 사용할 수 있게 됩니다.
 파라미터를 활성화시키려면, 활성화시키고자 하는 파라미터 이름 옆에 **회색으로 탈색된 박스** 에 **좌클릭** 합니다. 그러면 박스가 더이상 
 회색으로 보이지 않으며, 원하는 대로 파라미터를 조절할 수 있을 것입니다.

* **Parameter Groups** 파라미터 그룹 - 이 섹션에서는 부모 머티리얼에서 머티리얼 인스턴스로 노출된 모든 값을 조절할 수 있습니다.
* **General** 일반 - 여기서는 부모 머티리얼, 피지컬 머티리얼 변경은 물론 이 머티리얼 인스턴스가 라이트매스 빌드에 영향을 끼치는 방식을 조절할 수 있습니다.
* **Material Overrides** 머티리얼 오버라이드 - 머티리얼 기본값을 덮어쓸 수 있도록 해 줍니다.


### 부모 목록

![](MIE_Parent.png)

머티리얼 인스턴스는 다른 머티리얼 인스턴스를 부모로 가질 수도 있기 때문에, 가끔 어떤 머티리얼 인스턴스의 기반이 되는 원본 머티리얼을 찾아내기가 어려울 때가 있습니다.
부모 목록은 현재 머티리얼 인스턴스의 부모 체인을 그 시작점이 되는 루트 머티리얼까지 거슬러올라가며 표시해 주어 그런 문제를 해결합니다. 
예를 들어, 위의 부모 목록에는 "MasterDemoMaterial_Parent"라는 머티리얼 인스턴스를 부모로 갖는 "Instance_Metallic_Medium"라는 머티리얼 인스턴스가 표시되어 있습니다. 
부모 목록에서 보면 "MasterDemoMaterial"의 부모는 "MasterDemoMaterial_Parent"임을 알 수 있습니다. 현재 편집중인 인스턴스는 두껍게 표시됩니다.

게다가 부모 목록에 있는 아이템을 더블클릭하면, 해당 부모가 에디터에 로드됩니다. 부모 아이템에 우클릭하고 "Sync Generic Browser"(일반 브라우저에서 찾기)를 선택하면 
부모의 위치를 일반 브라우저에서 확인할 수 있습니다.


### 뷰포트

![](MIE_Preview.png)

머티리얼 뷰포트에는 편집중인 머티리얼이 메시에 적용되어 나타납니다. 다음과 같은 방식으로 뷰포트를 조작할 수 있습니다.

* **좌클릭** 드래그로 메시를 회전시킵니다.
* **휠클릭** 드래그로 팬, **우클릭** 드래그로 줌입니다.
* **L** 키를 누른 채 **좌클릭** 드래그로 라이트 방향을 회전시킬 수 있습니다.


미리보기 메시는 관련된 툴바 콘트롤(모양 버튼, "미리보기 메시 선택" 콤보, "선택된 스태틱 메시 사용" 버튼 등)을 사용하여 바꿀 수 있습니다. 
미리보기 메시는 머티리얼에 저장되므로 다음번에 머티리얼 에디터에서 열었을 때 같은 메시에 미리볼 수 있게 되어 있습니다.


![](MIE_Change_Shapes.png)

머티리얼 인스턴스 에디터의 뷰포트에는 다양한 쉐이더 유형에 대한 명령 수는 물론 해당 머티리얼에 의해 사용되고 있는 텍스처 샘플 수와 같은, 
머티리얼에 대한 통계도 표시됩니다.

![](MIE_Ins_Count.png)

머티리얼에 어떤 움직임이 있는데 그걸 미리보려는 경우, 초시계 아이콘을 클릭하여 실시간 미리보기 기능을 켜면 됩니다.

![](MIE_Real_Time.png)


## 인스턴스 만들기

[INCLUDE:Engine/Rendering/Materials\MaterialInstances#MakingAnInstance]

## 파라미터 덮어쓰기

각 파라미터 이름 왼편에 있는 체크박스는 덮어쓴 값을 사용할지 말지 여부를 지정합니다. 즉 아래에서 _Base Metal, Base Roughness, Chrome Roughness, OPACITY Chrome_ 등은 
사용되고 있는 반면, _Base Scratch Roughness, Base UV Tile, Chrome Metal_ 등은 사용되지 않고 있습니다. 메모리 절약 이유로 체크된 값만 저장되기에, 체크되지 않은 값은 
머티리얼 인스턴스 에디터창이 닫힐 때 사라지게 됩니다.

![](MIE_Overriding.png)



## 작업방식

이런 식으로 새 머티리얼 인스턴스를 저작하는 데 있어 일관된 작업방식을 세우고자 합니다.


### 아티스트 작업방식

아티스트가 이 에디터를 사용하는 데 있어 가장 일반적인 경우는 이와 같을 겁니다:


1. 아티스트가 외형 변경용 파라미터를 가진 머티리얼을 새로 만듭니다.
1. 아티스트가 일반 브라우저에 오른클릭하여 패키지 내에 머티리얼 인스턴스 불변을 새로 만듭니다.
1. 아티스트가 이전에 만든 머티리얼을 새로 만든 머티리얼 인스턴스 불변의 부모로 할당합니다.
1. 아티스트가 머티리얼의 모양새를 바꾸기 위해 머티리얼 인스턴스 파라미터를 변경합니다.
1. 아티스트와 레벨 디자이너가 에디터 전반에 걸쳐 새로 만든 머티리얼 인스턴스 불변을 사용할 수 있게 되었습니다.



### 레벨 디자이너 작업방식

레벨 디자이너가 이 에디터를 사용하는 데 있어 가장 일반적인 경우는 이와 같을 겁니다:


1. 아티스트가 외형 변경용 파라미터를 가진 머티리얼을 새로 만듭니다.
1. 레벨 디자이너가 레벨에다 그 머티리얼을 놓습니다.
1. 레벨 디자이너가 머티리얼을 미세조정해야겠다 싶어서, 액터에 오른클릭하고 위에 설명한 메뉴 옵션을 사용하여 머티리얼 인스턴스를 새로 만듭니다.
1. 레벨 디자이너가 대체하려는 인스턴스 파라미터 옆의 박스를 체크하고 머티리얼의 모양새를 변경합니다.
1. (옵션) 이런 식으로 만든 머티리얼 인스턴스는 레벨 패키지에 저장되어 있기에, 레벨 디자이너의 재량껏 다른 액터에 대해 생성된 머티리얼 인스턴스를 적용할 수도 있습니다. 
머티리얼 인스턴스는 일반 브라우저의 레벨 패키지에 나타나게 됩니다.

 





